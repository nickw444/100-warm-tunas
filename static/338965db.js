'use strict';(function(){function r(){t();let a=e.b(document.querySelector(".header")),b=new u(a);b.i(0,()=>{document.body.classList.add("noscroll");b.T(!0)});b.i(1,()=>{document.body.classList.remove("noscroll");b.T(!1)})}function t(){let a;window.addEventListener("resize",()=>{document.body.classList.add("resizing");window.clearTimeout(a);a=window.setTimeout(()=>document.body.classList.remove("resizing"),200)})}function v(){let a=document.querySelector(".hero__viewCountdownCta"),b=document.querySelector(".countdown");
a&&b&&a.addEventListener("click",()=>{w({top:b.offsetTop-32,behavior:"smooth"})})}function x(){"Australia/Sydney"!==Intl.DateTimeFormat().resolvedOptions().timeZone&&document.querySelectorAll(".localTime").forEach(a=>{let b=parseInt(g.l(a.dataset,"ts"),10);a.innerText=`(${(new Date(1E3*b)).toLocaleString(void 0,{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})} in your time zone)`})}function k(a){return 0<a.touches.length?a.touches[0]:void 0}function p(a,b){a=e.b(m(a,b,"result"));return new y(a)}
function m(a,b,c){for(;a&&a!==b;){if(a.classList.contains(c))return a;a=a.parentNode}}function z(){let a=document.querySelector(".header__spotify");if(null!=a){var b=new IntersectionObserver(c=>{c[0].isIntersecting&&(A(()=>B(a)),b.disconnect())});b.observe(a)}}function B(a){let b=document.createElement("iframe");b.src=g.l(a.dataset,"spotifyEmbedUrl");b.width=b.height="300px";b.classList.add("header__spotifyEmbed");b.title="Spotify Embed";b.onload=()=>{b.classList.add("header__spotifyEmbed--loaded")};
a.appendChild(b)}class C{constructor(a){this.s=a}pa(a,b,c,d){gtag("event","play",{send_to:this.s,event_category:"listen",event_action:"click",previewSrc:a,songId:b,songTitle:c,resultCurrentRank:d})}}class g{static l(a,b){return e.b(a[b])}static ja(a){return a(e.b(window.bootstrap))}}class e{static b(a){if(null==a)throw Error("expected value");return a}}class n{constructor(a){this.a=a;this.L={}}j(a,...b){(a=this.L[a])&&a(...b)}i(a,b){this.L[a]=b}}class u extends n{constructor(a){super(a);
this.aa=e.b(this.a.querySelector(".header__navList"));this.O=e.b(this.a.querySelector(".header__navListMask"));a=e.b(this.a.querySelector(".header__hamburgerButton"));let b=e.b(this.a.querySelector(".header__navListClose"));a.addEventListener("click",()=>this.j(0));[this.O,b].forEach(c=>c.addEventListener("click",()=>this.j(1)))}T(a){this.toggle(this.aa,a,"header__navList--visible");this.toggle(this.O,a,"header__navListMask--visible")}toggle(a,b,c){b?a.classList.add(c):a.classList.remove(c)}}let D=
({top:a})=>{function b(){window.requestAnimationFrame(()=>{const f=Math.max(Math.min((Date.now()-h)/300,1),0);window.scrollTo(window.scrollX,c+(.5>f?2*f*f:-1+(4-2*f)*f)*d);1>f&&b()})}let c=window.scrollY;const d=a-c,h=Date.now();b()},w="scrollBehavior"in document.documentElement.style?window.scrollTo:D;console.log();class q{constructor({s:a}){this.s=a}static W(a){return new q({s:g.l(a,"gaMeasurementId")})}}class E{constructor(a,b,c){this.U=a;this.c=b;this.I=c;this.m=0;this.f=void 0;this.c.i(0,()=>
this.ea());this.c.i(2,()=>this.ga());this.c.i(1,()=>this.fa());this.c.i(3,()=>this.M(e.b(this.f),!0));this.c.i(5,d=>this.c.J(d));this.c.i(4,d=>this.c.ma(d));this.I.i(0,this.M.bind(this))}M(a,b){if(this.f&&this.f.K(a))switch(this.m){case 2:return this.resume();case 1:return b&&this.pause();default:return}this.play(a)}play(a){if(!this.f||!this.f.K(a)){this.m=1;null!=this.f&&this.f.S();this.f=a;a.play();var {D:b,ha:c,C:d,ia:h,oa:f,title:l}=a.Y();this.c.na(c);this.c.J(0);this.c.play();this.c.la({D:b,
title:l,C:d});this.c.show();this.U.pa(c,f,`${l} - ${d}`,h)}}pause(){this.m=2;this.c.pause()}resume(){this.m=1;this.c.play()}ea(){null!=this.f&&(this.m=0,this.f.S(),this.c.Z(),this.f=void 0)}fa(){null!=this.f&&(this.m=2,this.f.pause())}ga(){null!=this.f&&(this.m=1,this.f.resume())}}class F extends n{constructor(a){super(a);this.g=void 0;this.u=!1;this.h=e.b(a.querySelector("audio"));this.o=e.b(this.a.querySelector(".player__artworkPlayButton span"));this.H=e.b(this.a.querySelector(".player__progressIndicator"));
this.h.onended=()=>this.j(0);this.h.onpause=()=>this.j(1);this.h.onplay=()=>this.j(2);this.h.ontimeupdate=()=>!this.u&&this.j(5,this.h.currentTime/this.h.duration);e.b(this.a.querySelector(".player__artworkPlayButton")).addEventListener("click",()=>this.j(3));this.G=e.b(this.a.querySelector(".player__progress"));this.G.addEventListener("mousedown",b=>0===b.button&&this.w(b));this.G.addEventListener("touchstart",b=>this.w(k(b)),{passive:!0});this.H.addEventListener("mousedown",b=>0===b.button&&this.w(b));
this.H.addEventListener("touchstart",b=>this.w(k(b)),{passive:!0});window.addEventListener("mousemove",b=>this.P(b));window.addEventListener("touchmove",b=>this.P(k(b)),{passive:!0});window.addEventListener("mouseup",b=>this.R(b));window.addEventListener("touchend",b=>this.R(k(b)),{passive:!0})}w(a){document.body.classList.add("dragging");this.u=!0;this.v=this.F(e.b(a))}P(a){this.u&&(this.v=this.F(e.b(a)),this.J(this.v))}R(a){this.u&&(document.body.classList.remove("dragging"),this.u=!1,a=null!=a?
this.F(a):this.v,this.v=void 0,this.j(4,e.b(a)))}na(a){this.h.setAttribute("src",a)}la({D:a,title:b,C:c}){this.g||(this.g=document.createElement("img"),this.g.className="player__artworkImage",e.b(this.a.querySelector(".player__artwork")).appendChild(this.g));a?this.g.src=a:(this.g.remove(),this.g=void 0);e.b(this.a.querySelector(".player__title")).innerText=b;e.b(this.a.querySelector(".player__artist")).innerText=c}pause(){this.o.className="icon-play2";this.h.pause()}play(){this.o.className="icon-pause";
this.h.play()}show(){this.a.classList.remove("player--hidden");document.body.classList.add("hasPlayer")}Z(){this.a.classList.add("player--hidden");document.body.classList.remove("hasPlayer")}ma(a){this.h.currentTime=a*this.h.duration}J(a){this.H.style.transform=`translateX(calc(${-12+-12*a}px + ${100*a}%)`}F(a){let {left:b,width:c}=this.G.getBoundingClientRect();return Math.max(Math.min((a.clientX-(b+6))/(c-12),1),0)}}class G{constructor(a){this.view=a;this.A=new Map;this.N=new Set;a.i(1,this.ca.bind(this))}ca(a,
b,c,d,h){b?this.A.has(c)||(a.ka(),b=window.setTimeout(()=>{this.N.has(c)||(this.N.add(c),a.$(c,d),h())},200),this.A.set(c,b)):(window.clearInterval(this.A.get(c)),this.A.delete(c))}}class y{constructor(a){this.a=a;this.o=this.a.querySelector(".result__artworkPlayButton span");this.g=e.b(this.a.querySelector(".result__artwork"))}K(a){return this.a===a.a}Y(){return{ia:this.a.querySelector(".result__rank").textContent,D:this.X(),oa:g.l(this.a.dataset,"songId"),ha:g.l(this.a.dataset,"previewSrc"),C:this.a.querySelector(".result__artistName").textContent,
title:this.a.querySelector(".result__trackTitle").textContent}}X(){let a=this.a.querySelector(".result__artworkImage"),b=this.a.querySelector(".result__artworkPlaceholder");return null!=a?a.src:b?g.l(b.dataset,"src"):void 0}play(){this.g.classList.add("result__artwork--prePlay");this.B("icon-pause");window.setTimeout(()=>{this.g.classList.add("result__artwork--playing")},300)}pause(){this.g.classList.add("result__artwork--paused");this.B("icon-play2")}resume(){this.g.classList.remove("result__artwork--paused");
this.B("icon-pause")}S(){this.g.classList.add("result__artwork--fadeout");this.B("icon-play2");window.setTimeout(()=>{window.requestAnimationFrame(()=>{this.g.classList.remove("result__artwork--prePlay","result__artwork--playing");window.requestAnimationFrame(()=>{this.g.classList.remove("result__artwork--fadeout")})})},350)}ka(){e.b(this.a.querySelector(".result__artworkPlaceholder")).classList.add("result__artworkPlaceholder--loading")}$(a,b){let c=e.b(this.a.querySelector(".result__artworkPlaceholder")),
d=new Image;d.src=a;d.alt=b;d.classList.add("result__artworkImage","result__artworkImage--fadein");d.onload=()=>{c.parentNode.insertBefore(d,c);c.remove()};d.onerror=()=>{c.classList.remove("result__artworkPlaceholder--loading")}}B(a){this.o&&(this.o.className=a)}}class H extends n{V(){this.a.addEventListener("click",a=>this.da(a));this.ba()}da(a){let b=m(a.target,this.a,"result__artworkPlayButton");a=m(a.target,this.a,"result__listenButton");if(a=b||a){let c=p(a,this.a);this.j(0,c,a===b)}}ba(){let a=
new IntersectionObserver(b=>{b.forEach(c=>{const d=c.target,h=p(d,this.a),f=g.l(d.dataset,"src"),l=g.l(d.dataset,"alt");this.j(1,h,c.isIntersecting,f,l,()=>a.unobserve(d))})});this.a.querySelectorAll(".result__artworkPlaceholder").forEach(b=>a.observe(b))}}let A=window.requestIdleCallback||(a=>window.setTimeout(a,50));document.addEventListener("DOMContentLoaded",function(){var {s:a}=g.ja(q.W);a=new C(a);var b=document.querySelector(".countdown ul");if(b){b=new H(b);new G(b);b={I:b};let {I:c}=b;{b=
c;let d=new F(e.b(document.querySelector(".player")));new E(a,d,b)}c.V()}z();r();v();x()})})();
//# sourceMappingURL=338965db.js.map
