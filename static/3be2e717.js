'use strict';var v="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this,U="function"==typeof Object.defineProperties?Object.defineProperty:function(n,u,l){n!=Array.prototype&&n!=Object.prototype&&(n[u]=l.value)};function V(n,u){if(u){var l=v;n=n.split(".");for(var q=0;q<n.length-1;q++){var x=n[q];x in l||(l[x]={});l=l[x]}n=n[n.length-1];q=l[n];u=u(q);u!=q&&null!=u&&U(l,n,{configurable:!0,writable:!0,value:u})}}
function W(n){function u(q){return n.next(q)}function l(q){return n.throw(q)}return new Promise(function(q,x){function B(E){E.done?q(E.value):Promise.resolve(E.value).then(u,l).then(B,x)}B(n.next())})}V("Array.prototype.includes",function(n){return n?n:function(u,l){var q=this;q instanceof String&&(q=String(q));var x=q.length;l=l||0;for(0>l&&(l=Math.max(l+x,0));l<x;l++){var B=q[l];if(B===u||Object.is(B,u))return!0}return!1}});
(function(){function n(a){return{position:a.position,P:a.is_mega,K:a.song_id,B:a.song_title,u:a.artist_name,v:a.preview_url,l:a.num_votes,Ka:a.artwork_filename,backgroundColor:a.background_color}}function u(a){return new Promise(b=>{window.setTimeout(()=>b(),a)})}function l(a){let b=document.createElement("div");b.innerHTML=a;return b.firstChild}function q(a,b,c,d,e){return W(function*(){try{var m=yield a.Oa()}catch(h){if(h instanceof L)return;console.error(h);return}let r=M.w(),A=N.w();m=O.w(m,e);
let y=f.b(c.parentNode);y.insertBefore(r.a,c);y.insertBefore(A.a,c);y.insertBefore(m.a,c);(new X(m,r,A,d,a,b)).da()}())}function x(){B();let a=f.b(document.querySelector(".header")),b=new Y(a);b.h(1,()=>{document.body.classList.add("noscroll");b.Ha(!0)});b.h(2,()=>{document.body.classList.remove("noscroll");b.Ha(!1)})}function B(){let a;window.addEventListener("resize",()=>{document.body.classList.add("resizing");window.clearTimeout(a);a=window.setTimeout(()=>document.body.classList.remove("resizing"),
200)})}function E(){let a=document.querySelector(".hero__viewCountdownCta"),b=document.querySelector(".countdown");a&&b&&a.addEventListener("click",()=>{Z({top:b.offsetTop-32,behavior:"smooth"})})}function aa(){"Australia/Sydney"!==Intl.DateTimeFormat().resolvedOptions().timeZone&&document.querySelectorAll(".localTime").forEach(a=>{let b=parseInt(w.C(a.dataset,"ts"),10);a.innerText=`(${(new Date(1E3*b)).toLocaleString(void 0,{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})} in your time zone)`})}
function G(a){return 0<a.touches.length?a.touches[0]:void 0}function ba(a,b){let c=new ca(f.b(document.querySelector(".player")));new da(a,c,b)}function P(a,b){a=f.b(I(a,b,"result"));return new J(a)}function I(a,b,c){for(;a&&a!==b;){if(a.classList.contains(c))return a;a=a.parentNode}}function ea(a){a=new fa(a);let b=new ha(a);return{la:a,s:b}}function ia(a,b,c,d){return W(function*(){function e(){let h=document.createElement("div");var k=document.createElement("p");k.innerHTML="<strong>Want a sneak peek?</strong> Upload a screenshot of your votes to take a look:";
h.appendChild(k);let p=document.createElement("form");p.classList.add("votesUploaderForm");h.appendChild(p);k=document.createElement("label");k.setAttribute("for","fileInput");k.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="17" viewBox="0 0 20 17"><path d="M10 0l-5.2 4.9h3.3v5.1h3.8v-5.1h3.3l-5.2-4.9zm9.3 11.5l-3.2-2.1h-2l3.4 2.6h-3.5c-.1 0-.2.1-.2.1l-.8 2.3h-6l-.8-2.2c-.1-.1-.1-.2-.2-.2h-3.6l3.4-2.6h-2l-3.2 2.1c-.4.3-.7 1-.6 1.5l.6 3.1c.1.5.7.9 1.2.9h16.3c.6 0 1.1-.4 1.3-.9l.6-3.1c.1-.5-.2-1.2-.7-1.5z"></path></svg>\n    <span>Choose a file\u2026</span>\n';
p.appendChild(k);k=document.createElement("input");k.type="file";k.name="upload";k.accept="image/*";k.id="fileInput";p.appendChild(k);k.addEventListener("change",t=>m(t,{Ab:C,yb:z}));let g=document.createElement("div");g.classList.add("votesUploaderFormError");h.appendChild(g);let z=t=>{if(t){const Q=document.createElement("p");Q.innerText=t;g.appendChild(Q)}else g.innerHTML=""},C=t=>{t?p.classList.add("votesUploaderForm--hidden"):p.classList.remove("votesUploaderForm--hidden")};return h}function m(h,
k){var {yb:p,Ab:g}=k;return W(function*(){p(void 0);g(!0);c.m(!0);var z=f.b(f.b(h.target.files).item(0));let C;try{C=yield d.Ma({file:z})}catch(t){throw g(!1),p("Something went wrong whilst processing your image. Please try again later."),c.m(!1),t;}z=void 0;try{z=yield r({id:C.id,A:C.A})}catch(t){throw g(!1),p("Something went wrong whilst processing your image. Please try again later."),c.m(!1),t;}if(null!=z){switch(z){case "novotes":g(!1);p("We did not detect any valid votes in the image you uploaded. Please ensure you are uploading a screenshot of your vote confirmation from triple j.");
break;case "unknown":g(!1),p("Something went wrong whilst processing your image. Please try again later.")}c.m(!1)}else{try{yield A({id:C.id,A:C.A})}catch(t){throw g(!1),p("Something went wrong whilst processing your image. Please try again later."),c.m(!1),t;}try{let t=yield d.V();y(t)}catch(t){throw p("Something went wrong whilst processing your image. Please try again later."),t;}finally{g(!1),c.m(!1)}}}())}function r(h){var {id:k,A:p}=h;return W(function*(){let g=void 0;do null!=g&&(yield ja(1E3)),
g=yield d.Sa({id:k,A:p});while("COMPLETE"!=g.state);if(null!=g.ta||null!=g.oa)return"unknown";if(!g.xa)return"novotes"}())}function A(h){var {id:k,A:p}=h;return W(function*(){yield d.ob(new ka(void 0,k,p))}())}function y(h){return W(function*(){let k=h.results.length;a.innerHTML=`<strong>Thanks for submitting your votes</strong>. Here is your sneak peek of the top ${k}:`;c.J(h.results.sort((g,z)=>z.position-g.position).map(g=>({P:10<k&&10>=g.position,backgroundColor:g.backgroundColor,v:g.v,K:0,position:g.position,
B:g.B,u:g.u,l:g.l,Ja:Math.round(g.l/h.R.Y*100),H:g.H})));let p=document.createElement("p");p.innerText=`Data was last processed at ${(new Date(1E3*h.R.Ya)).toLocaleString(void 0,{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"short"})}. Data is based on ${h.R.l} votes counted across ${h.R.Y} entries.`;b.zb(p)}())}try{c.m(!0);let h=yield d.V();y(h)}catch(h){if(h instanceof R){let k=e();a.appendChild(k)}}finally{c.m(!1)}}())}function ja(a){return new Promise(b=>{setTimeout(()=>b(),a)})}function la(){let a=
document.querySelector(".header__spotify");if(null!=a){var b=new IntersectionObserver(c=>{c[0].isIntersecting&&(H(()=>ma(a)),b.disconnect())});b.observe(a)}}function ma(a){let b=document.createElement("iframe");b.src=w.C(a.dataset,"spotifyEmbedUrl");b.width=b.height="300px";b.classList.add("header__spotifyEmbed");b.title="Spotify Embed";b.onload=()=>{b.classList.add("header__spotifyEmbed--loaded")};a.appendChild(b)}class na{constructor(a){this.N=a}Kb(a,b,c,d){gtag("event","play",{send_to:this.N,event_category:"listen",
event_action:"click",previewSrc:a,songId:b,songTitle:c,resultCurrentRank:d})}Ib(){gtag("event","controls_button_visible",{event_category:"controls"})}Jb(){gtag("event","controls_open",{event_category:"controls"})}Ia(a){gtag("event","controls_changed",{event_category:"controls",event_label:a.join(", ")})}}class w{static C(a,b){return f.b(a[b])}static nb(a){return a.resultsUrlSlug}static tb(a){return a(f.b(window.bootstrap))}static mb(a){return a.enableExcludePlacedControl}static sb(a){return w.mb(a)||
!1}}class f{static b(a){if(null==a)throw Error("expected value");return a}}let H=window.requestIdleCallback||(a=>window.setTimeout(a,50));class F extends Error{}class oa extends F{}class pa extends F{}class R extends F{}class L extends F{}class qa{get(a){const b=this;return W(function*(){let c=yield fetch(a,{credentials:"include"});b.wa(c);return yield c.json()}())}ia(a,b){const c=this;return W(function*(){let d=yield fetch(a,Object.assign({},b,{method:"POST",credentials:"include"}));c.wa(d);return yield d.json()}())}wa(a){switch(a.status){case 403:throw new R("Error: "+
a.statusText);case 404:throw new L("Error: "+a.statusText);}if(400<=a.status&&500>a.status)throw new pa("Error: "+a.statusText);if(500<=a.status&&600>a.status)throw new oa("Error: "+a.statusText);if(200>a.status||300<=a.status)throw new F("Error: "+a.statusText);}}class X{constructor(a,b,c,d,e,m){this.qa=a;this.pa=b;this.ab=c;this.s=d;this.vb=e;this.G=m;this.ya=!1;a.h(1,r=>this.kb(r));b.h(1,()=>this.Ea(!this.qa.Xa()));c.h(1,()=>this.Ea(!1))}da(){this.s.lb(a=>{this.pa.Hb(a);a&&!this.ya&&(this.G.Ib(),
this.ya=!0)})}kb(a){const b=this;return W(function*(){if(0===a.length)H(()=>b.G.Ia([])),b.s.J([]),b.s.Fa("No media types selected. Please select at least one media type."),b.ha=void 0;else{b.s.m(!0);b.s.J([]);var c=b.ha=u(500).then(()=>{if(c!==b.ha)throw new K;}).then(()=>{H(()=>b.G.Ia([...a].sort()));return b.vb.V(a)}).then(d=>{if(c!==b.ha)throw new K;b.s.m(!1);b.s.J(d.ub.map(e=>({P:e.P,backgroundColor:e.backgroundColor,v:e.v,K:e.K,position:e.position,B:e.B,u:e.u,l:e.l,Ja:Math.floor(e.l/d.Y*100),
H:"/static/artwork/2021/"+e.Ka})))}).catch(d=>{if(!(d instanceof K))throw b.s.Fa("An error occurred whilst fetching data. Please try again."),d;})}}())}Ea(a){a&&this.G.Jb();this.ab.toggle(a);this.qa.toggle(a);this.pa.toggle(a)}}class K extends Error{}class D{constructor(a){this.a=a;this.sa={}}i(a,...b){(a=this.sa[a])&&a(...b)}h(a,b){this.sa[a]=b}}class O extends D{constructor(a){super(a);this.Aa=f.b(a.querySelector(".controls__form--mediaTypes"));this.Aa.addEventListener("change",()=>this.i(1,this.Qa()))}static w(a,
b){a=l(`<div class="controls controls--hidden">
  <div class="container container--narrow">
    <h3>Included Media Types</h3>
    <p>Fine-tune the prediction by selecting the specific media types to be counted.</p>
    <form class="controls__form controls__form--mediaTypes">
      ${b?'<div><label><input value="exclude_placed" type="checkbox" checked autocomplete="off"> Eliminate songs that have placed in the Hottest 200-101</label></div>':""}
      <div><label><input value="instagram_post" type="checkbox" checked autocomplete="off"> Instagram Posts <span class="controls__formMeta">(${a.Va} entries)</span></label>
      </div>
      <div><label><input value="instagram_direct_message" type="checkbox" checked autocomplete="off"> Instagram DMs <span class="controls__formMeta">(${a.Ua} entries)</span></label>
      </div>
      <div><label><input value="instagram_story" type="checkbox" checked autocomplete="off"> Instagram Stories <span
          class="controls__formMeta">(${a.Wa} entries)</span></label></div>
      <div><label><input value="twitter_post" type="checkbox" checked autocomplete="off"> Twitter Posts <span class="controls__formMeta">(${a.Lb}  entries)</span></label>
      </div>
      <div><label><input value="reddit_comment" type="checkbox" checked autocomplete="off"> Reddit Comments <span class="controls__formMeta">(${a.rb}  entries)</span></label>
      </div>
    </form>
  </div>
</div>
`);return new O(a)}toggle(a){a?this.a.classList.remove("controls--hidden"):this.a.classList.add("controls--hidden")}Xa(){return!this.a.classList.contains("controls--hidden")}Qa(){let a=[];this.Aa.querySelectorAll('input[type="checkbox"]').forEach(b=>{b.checked&&a.push(b.value)});return a}}class M extends D{constructor(a){super(a);a.addEventListener("click",()=>this.i(1))}static w(){let a=l('<div class="controls__buttonContainer controls__buttonContainer--hidden">\n  <button class="controls__button">\n    <span class="controls__icon icon-equalizer"></span>\n    <span class="controls__icon controls__icon--hidden icon-close"></span>\n  </button>\n</div>');
return new M(a)}Hb(a){a?this.a.classList.remove("controls__buttonContainer--hidden"):this.a.classList.add("controls__buttonContainer--hidden")}toggle(a){let b=f.b(this.a.querySelector(".controls__icon.icon-equalizer")),c=f.b(this.a.querySelector(".controls__icon.icon-close"));a?(b.classList.add("controls__icon--hidden"),c.classList.remove("controls__icon--hidden")):(b.classList.remove("controls__icon--hidden"),c.classList.add("controls__icon--hidden"))}}class N extends D{constructor(a){super(a);a.addEventListener("click",
()=>this.i(1))}static w(){let a=l('<div class="controls__mask controls__mask--hidden"></div>');return new N(a)}toggle(a){a?(this.a.classList.remove("controls__mask--hidden"),document.body.classList.add("noscroll")):(this.a.classList.add("controls__mask--hidden"),document.body.classList.remove("noscroll"))}}class Y extends D{constructor(a){super(a);this.bb=f.b(this.a.querySelector(".header__navList"));this.za=f.b(this.a.querySelector(".header__navListMask"));a=f.b(this.a.querySelector(".header__hamburgerButton"));
let b=f.b(this.a.querySelector(".header__navListClose"));a.addEventListener("click",()=>this.i(1));[this.za,b].forEach(c=>c.addEventListener("click",()=>this.i(2)))}Ha(a){this.toggle(this.bb,a,"header__navList--visible");this.toggle(this.za,a,"header__navListMask--visible")}toggle(a,b,c){b?a.classList.add(c):a.classList.remove(c)}}let ra=a=>{function b(){window.requestAnimationFrame(()=>{const m=Math.max(Math.min((Date.now()-e)/300,1),0);window.scrollTo(window.scrollX,c+(.5>m?2*m*m:-1+(4-2*m)*m)*
d);1>m&&b()})}({top:a}=a);let c=window.scrollY;const d=a-c,e=Date.now();b()},Z="scrollBehavior"in document.documentElement.style?window.scrollTo:ra;console.log();class S{constructor(a){var {N:b,I:c,ea:d}=a;this.N=b;this.I=c;this.ea=d}static j(a){return new S({N:w.C(a,"gaMeasurementId"),I:w.nb(a),ea:w.sb(a)})}}class da{constructor(a,b,c){this.G=a;this.c=b;this.la=c;this.F=1;this.f=void 0;this.c.h(1,()=>this.hb());this.c.h(3,()=>this.jb());this.c.h(2,()=>this.ib());this.c.h(4,()=>this.va(f.b(this.f),
!0));this.c.h(6,d=>this.c.ma(d));this.c.h(5,d=>this.c.Cb(d));this.la.h(1,this.va.bind(this))}va(a,b){if(this.f&&this.f.ra(a))switch(this.F){case 3:return this.resume();case 2:return b&&this.pause();default:return}this.play(a)}play(a){if(!this.f||!this.f.ra(a)){this.F=2;null!=this.f&&this.f.Ga();this.f=a;a.play();var {ca:b,pb:c,ba:d,qb:e,K:m,title:r}=a.Ra();this.c.Db(c);this.c.ma(0);this.c.play();this.c.Bb({ca:b,title:r,ba:d});this.c.show();this.G.Kb(c,m,`${r} - ${d}`,e)}}pause(){this.F=3;this.c.pause()}resume(){this.F=
2;this.c.play()}hb(){null!=this.f&&(this.F=1,this.f.Ga(),this.c.Ta(),this.f=void 0)}ib(){null!=this.f&&(this.F=3,this.f.pause())}jb(){null!=this.f&&(this.F=2,this.f.resume())}}class ca extends D{constructor(a){super(a);this.g=void 0;this.O=!1;this.o=f.b(a.querySelector("audio"));this.L=f.b(this.a.querySelector(".player__artworkPlayButton span"));this.ka=f.b(this.a.querySelector(".player__progressIndicator"));this.o.onended=()=>this.i(1);this.o.onpause=()=>this.i(2);this.o.onplay=()=>this.i(3);this.o.ontimeupdate=
()=>!this.O&&this.i(6,this.o.currentTime/this.o.duration);f.b(this.a.querySelector(".player__artworkPlayButton")).addEventListener("click",()=>this.i(4));this.ja=f.b(this.a.querySelector(".player__progress"));this.ja.addEventListener("mousedown",b=>0===b.button&&this.Z(b));this.ja.addEventListener("touchstart",b=>this.Z(G(b)),{passive:!0});this.ka.addEventListener("mousedown",b=>0===b.button&&this.Z(b));this.ka.addEventListener("touchstart",b=>this.Z(G(b)),{passive:!0});window.addEventListener("mousemove",
b=>this.Ca(b));window.addEventListener("touchmove",b=>this.Ca(G(b)),{passive:!0});window.addEventListener("mouseup",b=>this.Da(b));window.addEventListener("touchend",b=>this.Da(G(b)),{passive:!0})}Z(a){document.body.classList.add("dragging");this.O=!0;this.W=this.fa(f.b(a))}Ca(a){this.O&&(this.W=this.fa(f.b(a)),this.ma(this.W))}Da(a){this.O&&(document.body.classList.remove("dragging"),this.O=!1,a=null!=a?this.fa(a):this.W,this.W=void 0,this.i(5,f.b(a)))}Db(a){this.o.setAttribute("src",a)}Bb(a){var {ca:b,
title:c,ba:d}=a;this.g||(this.g=document.createElement("img"),this.g.className="player__artworkImage",f.b(this.a.querySelector(".player__artwork")).appendChild(this.g));b?this.g.src=b:(this.g.remove(),this.g=void 0);f.b(this.a.querySelector(".player__title")).innerText=c;f.b(this.a.querySelector(".player__artist")).innerText=d}pause(){this.L.className="icon-play2";this.o.pause()}play(){this.L.className="icon-pause";this.o.play()}show(){this.a.classList.remove("player--hidden");document.body.classList.add("hasPlayer")}Ta(){this.a.classList.add("player--hidden");
document.body.classList.remove("hasPlayer")}Cb(a){this.o.currentTime=a*this.o.duration}ma(a){this.ka.style.transform=`translateX(calc(${-12+-12*a}px + ${100*a}%)`}fa(a){let {left:b,width:c}=this.ja.getBoundingClientRect();return Math.max(Math.min((a.clientX-(b+6))/(c-12),1),0)}}class sa{constructor(a,b){this.id=a;this.A=b}static j(a){return{id:a.id,A:a.secret}}}class ta{constructor(a,b,c,d,e){this.id=a;this.state=b;this.ta=c;this.xa=d;this.oa=e}static j(a){return{id:a.id,state:a.state,ta:a.failureReason,
xa:a.hasMatchedVotes,oa:a.accessTokenUuid}}}class ua{constructor(a,b,c,d,e,m,r){this.position=a;this.B=b;this.u=c;this.v=d;this.l=e;this.H=m;this.backgroundColor=r}static j(a){return{position:a.position,B:a.songTitle,u:a.artistName,v:a.previewUrl,l:a.numVotes,H:a.artworkUrl,backgroundColor:a.backgroundColor}}}class va{constructor(a,b){this.results=a;this.R=b}static j(a){return{results:a.results.map(b=>ua.j(b)),R:{Y:a.meta.numEntries,l:a.meta.numVotes,cb:a.meta.numPreviousYearVotes,Ya:a.meta.lastProcessed}}}}
class ka{constructor(a,b,c){this.Za=a;this.Fb=b;this.Gb=c}wb(){return{linkingToken:this.Za,submissionId:this.Fb,submissionSecret:this.Gb}}}class wa{constructor(a,b){this.D=a;this.T=b}Ma(a){const b=this;return W(function*(){var c=new FormData;c.append("file",a.file);c=yield b.D.ia(b.T+"/submission",{body:c,headers:void 0});return sa.j(c)}())}Sa(a){const b=this;return W(function*(){let c=yield b.D.ia(b.T+`/submission/${a.id}`,{body:JSON.stringify({secret:a.A}),headers:{"Content-Type":"application/json"}});
return ta.j(c)}())}V(){const a=this;return W(function*(){let b=yield a.D.get(a.T+"/results");return va.j(b)}())}ob(a){const b=this;return W(function*(){yield b.D.ia(b.T+"/exchange",{body:JSON.stringify(a.wb()),headers:{"Content-Type":"application/json"}});return{}}())}}class ha{constructor(a){this.view=a;this.S=new Map;this.ga=new Set;a.h(2,this.fb.bind(this))}m(a){this.view.ua().m(a)}Fa(a){this.view.ua().Eb(a)}J(a){this.view.J(a);this.S.clear();this.ga.clear()}lb(a){this.view.La();this.view.h(3,
a)}fb(a,b,c,d,e){b?this.S.has(c)||(a.xb(),b=window.setTimeout(()=>{this.ga.has(c)||(this.ga.add(c),a.$a(c,d),e())},200),this.S.set(c,b)):(window.clearInterval(this.S.get(c)),this.S.delete(c))}}class J{constructor(a){this.a=a;this.L=this.a.querySelector(".result__artworkPlayButton span");this.g=f.b(this.a.querySelector(".result__artwork"))}static w(a){a=l(`<li class="result${a.P?" result--mega":""}"
      style="${a.P?`background: #${a.backgroundColor} radial-gradient(circle, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0) 100%)`:""}"
      data-preview-src="${a.v}"
      data-song-id="${a.K}"
      >
        <div class="container container--narrow">
          <div class="result__content">
            <div class="result__rankContainer">
              <div class="result__rank">${a.position}</div>
            </div>
            <div class="result__details">
              <div class="result__trackTitle">${a.B}</div>
              <div class="result__artistName">${a.u}</div>
              <div class="result__voteDetails">${a.l}
                votes (${a.Ja}%)
                ${a.v?'\n                    &nbsp;&nbsp;|&nbsp;&nbsp;\n                    <button class="result__listenButton">\n                      <span class="icon-play2"></span>&nbsp;Listen\n                    </button>\n                ':""}
              </div>
            </div>
            <div class="result__artwork">
                ${a.H?`
                <div class="result__artworkSpinner">
                    <div class="result__artworkPlaceholder"
                         data-alt="Cover artwork for ${a.B} - ${a.u}"
                         data-src="${a.H}"></div>
                  </div>
                  ${a.v?`
                  <button class="result__artworkPlayButton"
                            aria-label="Play ${a.B} by ${a.u}">
                      <span class="icon-play2"></span>
                    </button>
                  `:""}
                `:""}
            </div>
          </div>
        </div>
      </li>
`);return new J(a)}ra(a){return this.a===a.a}Ra(){return{qb:this.a.querySelector(".result__rank").textContent,ca:this.Na(),K:w.C(this.a.dataset,"songId"),pb:w.C(this.a.dataset,"previewSrc"),ba:this.a.querySelector(".result__artistName").textContent,title:this.a.querySelector(".result__trackTitle").textContent}}Na(){let a=this.a.querySelector(".result__artworkImage"),b=this.a.querySelector(".result__artworkPlaceholder");return null!=a?a.src:b?w.C(b.dataset,"src"):void 0}play(){this.g.classList.add("result__artwork--prePlay");
this.$("icon-pause");window.setTimeout(()=>{this.g.classList.add("result__artwork--playing")},300)}pause(){this.g.classList.add("result__artwork--paused");this.$("icon-play2")}resume(){this.g.classList.remove("result__artwork--paused");this.$("icon-pause")}Ga(){this.g.classList.add("result__artwork--fadeout");this.$("icon-play2");window.setTimeout(()=>{window.requestAnimationFrame(()=>{this.g.classList.remove("result__artwork--prePlay","result__artwork--playing");window.requestAnimationFrame(()=>
{this.g.classList.remove("result__artwork--fadeout")})})},350)}xb(){f.b(this.a.querySelector(".result__artworkPlaceholder")).classList.add("result__artworkPlaceholder--loading")}$a(a,b){let c=f.b(this.a.querySelector(".result__artworkPlaceholder")),d=new Image;d.src=a;d.alt=b;d.classList.add("result__artworkImage","result__artworkImage--fadein");d.onload=()=>{c.parentNode.insertBefore(d,c);c.remove()};d.onerror=()=>{c.classList.remove("result__artworkPlaceholder--loading")}}$(a){this.L&&(this.L.className=
a)}}class T{constructor(a){this.a=a}static w(){let a=document.createElement("div");a.className="countdown__statusIndicator countdown__statusIndicator--hidden";return new T(a)}m(a){a?(this.aa(!0),this.a.innerHTML='<div class="countdown__statusIcon"><span class="icon-spinner"></span></div>'):this.aa(!1)}Eb(a){if(a){this.aa(!0);var b=document.createElement("div");b.className="countdown__statusMessage";b.innerText=a;this.a.innerHTML="";this.a.appendChild(b)}else this.aa(!1)}aa(a){a?this.a.classList.remove("countdown__statusIndicator--hidden"):
this.a.classList.add("countdown__statusIndicator--hidden")}}class fa extends D{constructor(a){super(a);this.X=f.b(this.a.querySelector(".countdown__list"))}da(){this.a.addEventListener("click",a=>this.gb(a));this.Ba()}ua(){this.na||(this.na=T.w(),this.a.insertBefore(this.na.a,this.X));return this.na}J(a){this.X.innerHTML="";for(let b of a)a=J.w(b),this.X.appendChild(a.a);this.Ba()}zb(a){null==this.M&&(this.M=document.createElement("div"),this.M.classList.add("container","container--narrow","countdown__footnote"),
this.a.appendChild(this.M));this.M.innerHTML="";this.M.appendChild(a)}La(){(new IntersectionObserver(a=>{a.length&&this.i(3,a[0].isIntersecting)},{rootMargin:"-96px 0px"})).observe(this.X)}gb(a){let b=I(a.target,this.a,"result__artworkPlayButton");a=I(a.target,this.a,"result__listenButton");if(a=b||a){let c=P(a,this.a);this.i(1,c,a===b)}}Ba(){let a=this.Pa();this.a.querySelectorAll(".result__artworkPlaceholder").forEach(b=>a.observe(b))}Pa(){return this.U?this.U:this.U=new IntersectionObserver(a=>
this.eb(f.b(this.U),a))}eb(a,b){b.forEach(c=>{let d=c.target,e=P(d,this.a),m=w.C(d.dataset,"src"),r=w.C(d.dataset,"alt");this.i(2,e,c.isIntersecting,m,r,()=>a.unobserve(d))})}}let xa={j(a){return{Y:a.num_entries,l:a.num_votes,cb:a.numPreviousYearVotes,Mb:a.last_processed_ts,ub:a.results_0_100.map(n)}}},ya={j(a){return{Va:a.instagram_post,Ua:a.instagram_direct_message,Wa:a.instagram_story,Lb:a.twitter_post,rb:a.reddit_comment}}};class za{constructor(a,b){this.D=a;this.I=b}V(a){const b=this;return W(function*(){var c=
[...a].sort();c=yield b.D.get(`/static/results/${b.I}/`+c.join("+")+".json");return xa.j(c)}())}Oa(){const a=this;return W(function*(){let b=yield a.D.get(`/static/results/${a.I}/entryCountsBySource.json`);return ya.j(b)}())}}document.addEventListener("DOMContentLoaded",function(){let {N:a,I:b,ea:c}=w.tb(S.j),d=new na(a),e=document.querySelector(".countdown"),m=document.querySelector(".uploader"),r=new qa;if(null!=e){let {la:y,s:h}=ea(e);ba(d,y);y.da();var A=null!=(new URLSearchParams(window.location.search)).get("enableUploads")||
16716708E5<Date.now();null!=m&&A&&(A=new wa(r,window.location.href.includes("localhost")?"http://localhost:8000":"https://s.100warmtunas.com"),ia(m,y,h,A));H(()=>{if(b){let k=new za(r,b);q(k,d,e,h,c)}})}la();x();E();aa()})})();
//# sourceMappingURL=3be2e717.js.map
